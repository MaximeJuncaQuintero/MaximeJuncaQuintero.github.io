(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[170],{5523:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return a}});let a=r(7043)._(r(2265)).default.createContext(null)},8567:function(e,t,r){(()=>{"use strict";var t={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},d:(e,r)=>{for(var a in r)t.o(r,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},a={};t.r(a),t.d(a,{Chatbot:()=>H,createChatBotMessage:()=>u,createClientMessage:()=>f,createCustomMessage:()=>m,default:()=>I,useChatbot:()=>R});let n=r(2265);var o=t.n(n);let s=r(4170);var i=t.n(s),c=function(){return(c=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},l=function(e,t){return{message:e,type:t,id:Math.round(Date.now()*Math.random())}},u=function(e,t){return c(c(c({},l(e,"bot")),t),{loading:!0})},m=function(e,t,r){return c(c({},l(e,t)),r)},f=function(e,t){return c(c({},l(e,"user")),t)},d=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(e)return e.apply(void 0,t)};function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}let p=({styles:e={},...t})=>o().createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},t),o().createElement("path",{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"})),v=function(e){var t=e.message,r=e.customComponents;return o().createElement("div",{className:"react-chatbot-kit-user-chat-message-container"},o().createElement(i(),{condition:!!r.userChatMessage,show:d(r.userChatMessage,{message:t}),elseShow:o().createElement("div",{className:"react-chatbot-kit-user-chat-message"},t,o().createElement("div",{className:"react-chatbot-kit-user-chat-message-arrow"}))}),o().createElement(i(),{condition:!!r.userAvatar,show:d(r.userAvatar),elseShow:o().createElement("div",{className:"react-chatbot-kit-user-avatar"},o().createElement("div",{className:"react-chatbot-kit-user-avatar-container"},o().createElement(p,{className:"react-chatbot-kit-user-avatar-icon"})))}))},h=function(){return o().createElement("div",{className:"react-chatbot-kit-chat-bot-avatar"},o().createElement("div",{className:"react-chatbot-kit-chat-bot-avatar-container"},o().createElement("p",{className:"react-chatbot-kit-chat-bot-avatar-letter"},"B")))},y=function(){return o().createElement("div",{className:"chatbot-loader-container"},o().createElement("svg",{id:"dots",width:"50px",height:"21px",viewBox:"0 0 132 58",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o().createElement("g",{stroke:"none",fill:"none"},o().createElement("g",{id:"chatbot-loader",fill:"#fff"},o().createElement("circle",{id:"chatbot-loader-dot1",cx:"25",cy:"30",r:"13"}),o().createElement("circle",{id:"chatbot-loader-dot2",cx:"65",cy:"30",r:"13"}),o().createElement("circle",{id:"chatbot-loader-dot3",cx:"105",cy:"30",r:"13"})))))};var b=function(){return(b=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};let w=function(e){var t=e.message,r=e.withAvatar,a=void 0===r||r,s=e.loading,c=e.messages,l=e.customComponents,u=e.setState,m=e.customStyles,f=e.delay,g=e.id,p=(0,n.useState)(!1),v=p[0],w=p[1];(0,n.useEffect)(function(){var e,t;return t=750,f&&(t+=f),e=setTimeout(function(){var e=(function(e,t,r){if(r||2==arguments.length)for(var a,n=0,o=t.length;n<o;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))})([],c,!0).find(function(e){return e.id===g});e&&(e.loading=!1,e.delay=void 0,u(function(t){var r=t.messages,a=r.findIndex(function(e){return e.id===g});return r[a]=e,b(b({},t),{messages:r})}))},t),function(){clearTimeout(e)}},[f,g]),(0,n.useEffect)(function(){f?setTimeout(function(){return w(!0)},f):w(!0)},[f]);var E={backgroundColor:""},O={borderRightColor:""};return m&&(E.backgroundColor=m.backgroundColor,O.borderRightColor=m.backgroundColor),o().createElement(i(),{condition:v,show:o().createElement("div",{className:"react-chatbot-kit-chat-bot-message-container"},o().createElement(i(),{condition:a,show:o().createElement(i(),{condition:!!(null==l?void 0:l.botAvatar),show:d(null==l?void 0:l.botAvatar),elseShow:o().createElement(h,null)})}),o().createElement(i(),{condition:!!(null==l?void 0:l.botChatMessage),show:d(null==l?void 0:l.botChatMessage,{message:t,loader:o().createElement(y,null)}),elseShow:o().createElement("div",{className:"react-chatbot-kit-chat-bot-message",style:E},o().createElement(i(),{condition:s,show:o().createElement(y,null),elseShow:o().createElement("span",null,t)}),o().createElement(i(),{condition:a,show:o().createElement("div",{className:"react-chatbot-kit-chat-bot-message-arrow",style:O})}))}))})};function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}let O=({styles:e={},...t})=>o().createElement("svg",E({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},t),o().createElement("path",{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}));var P=function(){return(P=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},S=function(e,t,r){if(r||2==arguments.length)for(var a,n=0,o=t.length;n<o;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};let j=function(e){var t=e.state,r=e.setState,a=e.widgetRegistry,s=e.messageParser,c=e.parse,u=e.customComponents,m=e.actionProvider,f=e.botName,d=e.customStyles,g=e.headerText,p=e.customMessages,h=e.placeholderText,y=e.validator,b=e.disableScrollToBottom,E=e.messageHistory,j=e.actions,k=e.messageContainerRef,C=t.messages,M=(0,n.useState)(""),N=M[0],x=M[1],T=function(){setTimeout(function(){var e;k.current&&(k.current.scrollTop=null===(e=null==k?void 0:k.current)||void 0===e?void 0:e.scrollHeight)},50)};(0,n.useEffect)(function(){b||T()});var A=function(){r(function(e){return P(P({},e),{messages:S(S([],e.messages,!0),[l(N,"user")],!1)})}),T(),x("")},R={backgroundColor:""};d&&d.chatButton&&(R.backgroundColor=d.chatButton.backgroundColor);var B="Conversation with "+f;g&&(B=g);var H="Write your message here";return h&&(H=h),o().createElement("div",{className:"react-chatbot-kit-chat-container"},o().createElement("div",{className:"react-chatbot-kit-chat-inner-container"},o().createElement(i(),{condition:!!u.header,show:u.header&&u.header(m),elseShow:o().createElement("div",{className:"react-chatbot-kit-chat-header"},B)}),o().createElement("div",{className:"react-chatbot-kit-chat-message-container",ref:k},o().createElement(i(),{condition:"string"==typeof E&&!!E,show:o().createElement("div",{dangerouslySetInnerHTML:{__html:E}})}),C.map(function(e,n){var s;return"bot"===e.type?o().createElement(o().Fragment,{key:e.id},function(e,n){s=e.withAvatar?e.withAvatar:function(e,t){if(0===t)return!0;var r=e[t-1];return!("bot"===r.type&&!r.widget)}(C,n);var s,c=P(P({},e),{setState:r,state:t,customComponents:u,widgetRegistry:a,messages:C,actions:j});if(e.widget){var l=a.getWidget(c.widget,P(P({},t),{scrollIntoView:T,payload:e.payload,actions:j}));return o().createElement(o().Fragment,null,o().createElement(w,P({customStyles:d.botMessageBox,withAvatar:s},c,{key:e.id})),o().createElement(i(),{condition:!c.loading,show:l||null}))}return o().createElement(w,P({customStyles:d.botMessageBox,key:e.id,withAvatar:s},c,{customComponents:u,messages:C,setState:r}))}(e,n)):"user"===e.type?o().createElement(o().Fragment,{key:e.id},(s=a.getWidget(e.widget,P(P({},t),{scrollIntoView:T,payload:e.payload,actions:j})),o().createElement(o().Fragment,null,o().createElement(v,{message:e.message,key:e.id,customComponents:u}),s||null))):p[e.type]?o().createElement(o().Fragment,{key:e.id},function(e){var n=p[e.type],s={setState:r,state:t,scrollIntoView:T,actionProvider:m,payload:e.payload,actions:j};if(e.widget){var i=a.getWidget(e.widget,P(P({},t),{scrollIntoView:T,payload:e.payload,actions:j}));return o().createElement(o().Fragment,null,n(s),i||null)}return n(s)}(e)):void 0}),o().createElement("div",{style:{paddingBottom:"15px"}})),o().createElement("div",{className:"react-chatbot-kit-chat-input-container"},o().createElement("form",{className:"react-chatbot-kit-chat-input-form",onSubmit:function(e){if(e.preventDefault(),y&&"function"==typeof y){if(y(N)){if(A(),c)return c(N);s.parse(N)}}else{if(A(),c)return c(N);s.parse(N)}}},o().createElement("input",{className:"react-chatbot-kit-chat-input",placeholder:H,value:N,onChange:function(e){return x(e.target.value)}}),o().createElement("button",{className:"react-chatbot-kit-chat-btn-send",style:R},o().createElement(O,{className:"react-chatbot-kit-chat-btn-send-icon"}))))))},k=function(e){var t=e.message;return o().createElement("div",{className:"react-chatbot-kit-error"},o().createElement("h1",{className:"react-chatbot-kit-error-header"},"Ooops. Something is missing."),o().createElement("div",{className:"react-chatbot-kit-error-container"},o().createElement(w,{message:t,withAvatar:!0,loading:!1,id:1,customStyles:{backgroundColor:""},messages:[]})),o().createElement("a",{href:"https://fredrikoseberg.github.io/react-chatbot-kit-docs/",rel:"noopener norefferer",target:"_blank",className:"react-chatbot-kit-error-docs"},"View the docs"))};var C=function(e){return e.widgets?e.widgets:[]},M=function(e){try{new e}catch(e){return!1}return!0},N=function(){return(N=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};let x=function(e,t){var r=this;this.addWidget=function(e,t){var a=e.widgetName,n=e.widgetFunc,o=e.mapStateToProps,s=e.props;r[a]={widget:n,props:s,mapStateToProps:o,parentProps:N({},t)}},this.getWidget=function(e,t){var a=r[e];if(a){var n,o=N(N(N(N({scrollIntoView:t.scrollIntoView},a.parentProps),"object"==typeof(n=a.props)?n:{}),r.mapStateToProps(a.mapStateToProps,t)),{setState:r.setState,actionProvider:r.actionProvider||t.actions,actions:t.actions,state:t,payload:t.payload});return a.widget(o)||null}},this.mapStateToProps=function(e,t){if(e)return e.reduce(function(e,r){return e[r]=t[r],e},{})},this.setState=e,this.actionProvider=t};var T=function(){return(T=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},A=function(e,t,r){if(r||2==arguments.length)for(var a,n=0,o=t.length;n<o;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};let R=function(e){var t=e.config,r=e.actionProvider,a=e.messageParser,s=e.messageHistory,i=e.runInitialMessagesWithHistory,c=e.saveMessages,l=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r}(e,["config","actionProvider","messageParser","messageHistory","runInitialMessagesWithHistory","saveMessages"]),d="",g="";if(!t||!r||!a)return{configurationError:d="I think you forgot to feed me some props. Did you remember to pass a config, a messageparser and an actionprovider?"};var p=(h=[],t.initialMessages||h.push("Config must contain property 'initialMessages', and it expects it to be an array of chatbotmessages."),h);if(p.length)return{invalidPropsError:g=p.reduce(function(e,t){return e+t},"")};var v=t.state?t.state:{};s&&Array.isArray(s)?t.initialMessages=A([],s,!0):"string"==typeof s&&!!s&&(i||(t.initialMessages=[]));var h,y,b,w,E=o().useState(T({messages:A([],t.initialMessages,!0)},v)),O=E[0],P=E[1],S=o().useRef(O.messages),j=o().useRef(),k=o().useRef();return(0,n.useEffect)(function(){S.current=O.messages}),(0,n.useEffect)(function(){s&&Array.isArray(s)&&P(function(e){return T(T({},e),{messages:s})})},[]),(0,n.useEffect)(function(){var e=k.current;return function(){if(c&&"function"==typeof c){var t=e.innerHTML.toString();c(S.current,t)}}},[]),(0,n.useEffect)(function(){j.current=O},[O]),M(r)&&M(a)?(y=new r(u,P,f,j.current,m,l),b=new x(P,y),w=new a(y,j.current),C(t).forEach(function(e){return null==b?void 0:b.addWidget(e,l)})):(y=r,w=a,b=new x(P,null),C(t).forEach(function(e){return null==b?void 0:b.addWidget(e,l)})),{widgetRegistry:b,actionProv:y,messagePars:w,configurationError:d,invalidPropsError:g,state:O,setState:P,messageContainerRef:k,ActionProvider:r,MessageParser:a}};var B=function(){return(B=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};let H=function(e){var t=e.actionProvider,r=e.messageParser,a=e.config,n=e.headerText,s=e.placeholderText,i=e.saveMessages,c=e.messageHistory,l=e.runInitialMessagesWithHistory,m=e.disableScrollToBottom,f=e.validator,d=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r}(e,["actionProvider","messageParser","config","headerText","placeholderText","saveMessages","messageHistory","runInitialMessagesWithHistory","disableScrollToBottom","validator"]),g=R(B({config:a,actionProvider:t,messageParser:r,messageHistory:c,saveMessages:i,runInitialMessagesWithHistory:l},d)),p=g.configurationError,v=g.invalidPropsError,h=g.ActionProvider,y=g.MessageParser,b=g.widgetRegistry,w=g.messageContainerRef,E=g.actionProv,O=g.messagePars,P=g.state,S=g.setState;if(p)return o().createElement(k,{message:p});if(v.length)return o().createElement(k,{message:v});var C=a.customStyles?a.customStyles:{},N=a.customComponents?a.customComponents:{},x=a.botName?a.botName:"Bot",T=a.customMessages?a.customMessages:{};return M(h)&&M(y)?o().createElement(j,{state:P,setState:S,widgetRegistry:b,actionProvider:E,messageParser:O,customMessages:T,customComponents:B({},N),botName:x,customStyles:B({},C),headerText:n,placeholderText:s,validator:f,messageHistory:c,disableScrollToBottom:m,messageContainerRef:w}):o().createElement(h,{state:P,setState:S,createChatBotMessage:u},o().createElement(y,null,o().createElement(j,{state:P,setState:S,widgetRegistry:b,actionProvider:h,messageParser:y,customMessages:T,customComponents:B({},N),botName:x,customStyles:B({},C),headerText:n,placeholderText:s,validator:f,messageHistory:c,disableScrollToBottom:m,messageContainerRef:w})))},I=H;e.exports=a})()},4170:function(e){(()=>{"use strict";var t={d:(e,r)=>{for(var a in r)t.o(r,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};t.r(r),t.d(r,{default:()=>a});let a=function(e){var t=e.condition,r=e.show,a=e.elseShow,n=function(e){return"function"==typeof e},o=function(e){return e()||(console.warn("Nothing was returned from your render function. Please make sure you are returning a valid React element."),null)};return t?n(r)?o(r):r:!t&&a?n(a)?o(a):a:null};e.exports=r})()},1519:function(){},6231:function(e,t,r){"use strict";r.d(t,{w_:function(){return u}});var a=r(2265),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=a.createContext&&a.createContext(n),s=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var a,n;a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return t=>a.createElement(m,i({attr:l({},e.attr)},t),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,l({key:r},t.attr),e(t.child)))}(e.child))}function m(e){var t=t=>{var r,{attr:n,size:o,title:c}=e,u=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,s),m=o||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,u,{className:r,style:l(l({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&a.createElement("title",null,c),e.children)};return void 0!==o?a.createElement(o.Consumer,null,e=>t(e)):t(n)}}}]);